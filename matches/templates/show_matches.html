{% extends 'base.html' %}
{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    {% block meta %} {% endblock meta %}
</head>

<body>
    {% block content %}
    {% include 'navbar.html' %}
    
    <div class="bg-[#1d1f22] w-full pt-10 min-h-screen">
        <div class="mx-auto px-4 sm:px-6 lg:px-20 py-8">
            <div class="my-24 bg-[#333438] rounded-2xl h-[400px] sm:h-[480px] lg:h-[560px]">
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-[1fr_auto] gap-6 lg:gap-4">
                <div class="bg-[#333438] rounded-2xl px-6 sm:px-8 lg:px-12 py-6 lg:py-9 overflow-x-auto">
                    <div class="min-w-[600px]">
                        
                        <div class="flex items-start justify-between">
                            <div class="flex flex-col items-start flex-1">
                                <div class="h-[60px] lg:h-[68px] flex items-center">
                                    <p class="text-lg lg:text-xl text-[#b0b0b0]">Klasemen</p>
                                </div>
                                
                                    {% for club in clubs %}
                                    <div class="flex items-center justify-start gap-4 w-full h-[52px] lg:h-[56px]">
                                        <p class="text-xl lg:text-2xl font-semibold text-white min-w-[2rem]">
                                            {{ forloop.counter }}
                                        </p>
                                        
                                        <div class="flex items-center justify-start gap-3 lg:gap-4">
                                            <img src="/static/img/club-matches/{{ club.nama_klub }}.png" alt="{{ club.nama_klub }}" class="h-6 w-5 lg:h-7 lg:w-6 object-cover" />
                                            
                                            <p class="text-xl lg:text-2xl text-white">
                                                {{ club.nama_klub }}
                                            </p>
                                        </div>
                                    </div>
                                    {% endfor %}
                            </div>
                            
                            <div class="flex items-center justify-end gap-10 lg:gap-12">
                                
                                <div class="flex flex-col items-end justify-start">
                                    <p class="text-lg lg:text-xl text-[#b0b0b0] h-[60px] lg:h-[68px] flex items-center">MP</p>
                                    <div class="flex flex-col items-end">
                                        {% for i in "12345678901234567890" %}
                                        <p class="text-lg lg:text-xl text-white h-[52px] lg:h-[56px] flex items-center">7</p>
                                        {% endfor %}
                                    </div>
                                </div>
                                
                                <div class="flex flex-col items-end justify-start w-8">
                                    <p class="text-lg lg:text-xl text-[#b0b0b0] h-[60px] lg:h-[68px] flex items-center">W</p>
                                    <div class="flex flex-col items-end">
                                        {% for i in "12345678901234567890" %}
                                        <p class="text-lg lg:text-xl text-white h-[52px] lg:h-[56px] flex items-center">5</p>
                                        {% endfor %}
                                    </div>
                                </div>
                                
                                <div class="flex flex-col items-end justify-start">
                                    <p class="text-lg lg:text-xl text-[#b0b0b0] h-[60px] lg:h-[68px] flex items-center">D</p>
                                    <div class="flex flex-col items-end">
                                        {% for i in "12345678901234567890" %}
                                        <p class="text-lg lg:text-xl text-white h-[52px] lg:h-[56px] flex items-center">1</p>
                                        {% endfor %}
                                    </div>
                                </div>
                                
                                <div class="flex flex-col items-end justify-start w-8">
                                    <p class="text-lg lg:text-xl text-[#b0b0b0] h-[60px] lg:h-[68px] flex items-center">L</p>
                                    <div class="flex flex-col items-end">
                                        {% for i in "12345678901234567890" %}
                                        <p class="text-lg lg:text-xl text-white h-[52px] lg:h-[56px] flex items-center">1</p>
                                        {% endfor %}
                                    </div>
                                </div>
                                
                                <div class="flex flex-col items-end justify-start w-10">
                                    <p class="text-lg lg:text-xl font-semibold text-[#b0b0b0] h-[60px] lg:h-[68px] flex items-center">P</p>
                                    <div class="flex flex-col items-end">
                                        {% for i in "12345678901234567890" %}
                                        <p class="text-lg lg:text-xl font-semibold text-white h-[52px] lg:h-[56px] flex items-center">16</p>
                                        {% endfor %}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="flex flex-col justify-start items-start w-full relative mt-10 gap-4">
                <p class="self-stretch flex-grow-0 flex-shrink-0 w-full text-[28px] font-semibold text-left text-white">
                    Semua Match Musim Ini
                </p>
                <div class="flex items-center space-x-4 mb-6">
                    <select id="weekFilter" 
                        onchange="window.location.href = '?week=' + this.value;"
                        class="flex-grow-0 flex-shrink-0 relative bg-[#333438] text-white px-8 py-3 rounded-2xl border border-white text-xl font-medium cursor-pointer focus:outline-none"
                    >
                        {% for week in week_range %}
                            <option value="{{ week }}" {% if week == current_week %}selected{% endif %}>
                                Pekan ke-{{ week }}
                            </option>
                        {% endfor %}
                    </select>
                </div>

                <div class="flex flex-col justify-start items-center self-stretch flex-grow-0 flex-shrink-0 gap-10 px-6 sm:px-10 lg:px-20 py-8 lg:py-12 rounded-2xl bg-[#333438]">
                    
                    {% if matches %}
                        {% regroup matches by match_date|date:"Ymd" as matches_by_date %}
                        
                        {% for group in matches_by_date %}
                        <div class="flex flex-col justify-start items-center self-stretch flex-grow-0 flex-shrink-0 relative gap-6 w-full">
                            <p class="self-stretch flex-grow-0 flex-shrink-0 w-full text-xl text-center text-white">
                                {{ group.list.0.match_date|date:"l, d F Y" }}
                            </p>
                            
                            <div class="flex flex-col justify-center items-center w-full gap-5">
                                {% for match in group.list %}
                                <div class="flex justify-between items-center w-full max-w-2xl lg:max-w-4xl">
                                    
                                    <div class="flex justify-end items-end flex-grow-0 flex-shrink-0 w-[145px] gap-3">
                                        <p class="flex-grow-0 flex-shrink-0 text-xl lg:text-2xl font-medium text-right text-white">
                                            {{ match.home_team }}
                                        </p>
                                        <img
                                            src="/static/img/club-matches/{{ match.home_team }}.png"
                                            class="flex-grow-0 flex-shrink-0 w-10 lg:w-[41px] h-10 lg:h-12 object-contain"
                                        />
                                    </div>
                                    
                                    <div class="flex justify-center items-center flex-grow-0 flex-shrink-0 w-[104px] px-8 py-3 rounded-2xl bg-[#3247b1]">
                                        <p class="flex-grow-0 flex-shrink-0 text-xl font-medium text-left text-white">
                                            VS
                                        </p>
                                    </div>
                                    
                                    
                                    <div class="flex justify-start items-end flex-grow-0 flex-shrink-0 w-[153px] gap-3">
                                        <img
                                            src="/static/img/club-matches/{{ match.away_team }}.png"
                                            class="flex-grow-0 flex-shrink-0 w-10 lg:w-[41px] h-10 lg:h-12 object-contain"
                                        />
                                        <p class="flex-grow-0 flex-shrink-0 text-xl lg:text-2xl font-medium text-left text-white">
                                            {{ match.away_team }}
                                        </p>
                                    </div>
                                </div>
                                {% endfor %}
                            </div>
                        </div>
                        {% endfor %}

                    {% else %}
                        <p class="text-xl text-white">Tidak ada pertandingan terjadwal untuk Pekan ke-{{ current_week }}.</p>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>

    {% include 'footer.html' %}
    {% endblock content %}
</body>
</html>